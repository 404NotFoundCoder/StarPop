<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>色塊消消樂</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="game-container">
      <div class="game-card">
        <div class="game-header">
          <h1>色塊消消樂</h1>
          <div class="level-indicator">第 <span id="level">1</span> 關</div>
        </div>

        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-label">分數</div>
            <div id="score" class="stat-value">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">剩餘方塊</div>
            <div id="blocks-left" class="stat-value">36</div>
          </div>
        </div>

        <div class="game-board-container">
          <div id="game-board"></div>
        </div>

        <div class="buttons">
          <button id="restart-btn" class="primary-btn">重新開始</button>
          <button id="help-btn" class="secondary-btn">如何遊玩</button>
        </div>
      </div>

      <div id="level-complete" class="modal">
        <div class="modal-content">
          <h2>恭喜過關！</h2>
          <div class="celebration-icon">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 512 512"
              xml:space="preserve"
            >
              <path
                style="fill: #ffba00"
                d="M276.866,42.537v31.299h202.95c-5.809,50.957-39.538,90.176-80.148,90.176H276.866v31.299h122.802
	c30.691,0,59.318-14.732,80.61-41.484C500.734,128.126,512,94.16,512,58.187v-15.65C512,42.537,276.866,42.537,276.866,42.537z"
              />
              <path
                style="fill: #fde09c"
                d="M112.331,164.012c-40.609,0-74.338-39.219-80.148-90.176h202.951V42.537H0v15.65
	c0,35.972,11.266,69.939,31.723,95.64c21.292,26.751,49.919,41.484,80.61,41.484h122.803v-31.299L112.331,164.012L112.331,164.012z"
              />
              <polygon
                style="fill: #ffba00"
                points="280.071,434.405 280.071,294.602 245.567,294.602 256,434.405 "
              />
              <rect
                x="231.926"
                y="294.597"
                style="fill: #fde09c"
                width="24.069"
                height="139.802"
              />
              <polygon
                style="fill: #ff8e00"
                points="358.341,455.293 358.341,414.235 256,414.235 235.134,476.159 "
              />
              <polygon
                style="fill: #ffba00"
                points="256,414.235 153.659,414.235 153.659,455.293 256,476.159 "
              />
              <path
                style="fill: #983300"
                d="M413.626,483.215c0-15.421-12.501-27.922-27.922-27.922h-27.364H256v41.057h157.626V483.215z"
              />
              <path
                style="fill: #d5681e"
                d="M153.659,455.293h-27.364c-15.421,0-27.922,12.501-27.922,27.922v13.135H256v-41.057H153.659z"
              />
              <path
                style="fill: #ff8e00"
                d="M399.668,183.839V15.65H256l-20.866,144.019L256,326.961h0.546
	C335.59,326.961,399.668,262.884,399.668,183.839z"
              />
              <g>
                <path
                  style="fill: #ffba00"
                  d="M112.332,15.65v168.19c0,79.045,64.079,143.122,143.122,143.122H256V15.65H112.332z"
                />
                <polygon
                  style="fill: #ffba00"
                  points="316.638,142.901 274.738,136.812 256,98.845 235.134,153.579 256,194.483 293.476,214.184 
		286.318,172.455 	"
                />
              </g>
              <polygon
                style="fill: #fde09c"
                points="237.262,136.812 195.362,142.901 225.682,172.455 218.524,214.184 256,194.483 256,98.845 
	"
              />
            </svg>
          </div>
          <p>您的分數: <span id="level-score">0</span></p>
          <div class="level-badge">
            即將進入第 <span id="next-level-num">2</span> 關
          </div>
          <div id="auto-progress">
            <div class="progress-bar">
              <div class="progress-fill"></div>
            </div>
            <div class="progress-text">自動前往下一關...</div>
          </div>
        </div>
      </div>

      <div id="game-over" class="modal">
        <div class="modal-content">
          <h2>遊戲結束</h2>
          <div class="game-over-icon">
            <svg
              width="800px"
              height="800px"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                opacity="0.5"
                d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                fill="#1C274C"
              />
              <path
                d="M8.39747 17.4466C8.64413 17.7794 9.11385 17.8492 9.44661 17.6025C10.175 17.0627 11.0541 16.75 12 16.75C12.9459 16.75 13.825 17.0627 14.5534 17.6025C14.8862 17.8492 15.3559 17.7794 15.6025 17.4466C15.8492 17.1138 15.7794 16.6441 15.4466 16.3975C14.4742 15.6767 13.285 15.25 12 15.25C10.715 15.25 9.5258 15.6767 8.55339 16.3975C8.22062 16.6441 8.15082 17.1138 8.39747 17.4466Z"
                fill="#1C274C"
              />
              <path
                d="M15 12C15.5523 12 16 11.3284 16 10.5C16 9.67157 15.5523 9 15 9C14.4477 9 14 9.67157 14 10.5C14 11.3284 14.4477 12 15 12Z"
                fill="#1C274C"
              />
              <path
                d="M9 12C9.55228 12 10 11.3284 10 10.5C10 9.67157 9.55228 9 9 9C8.44772 9 8 9.67157 8 10.5C8 11.3284 8.44772 12 9 12Z"
                fill="#1C274C"
              />
            </svg>
          </div>
          <p>沒有可消除的方塊了</p>
          <p>最終分數: <span id="final-score">0</span></p>
          <button id="retry-btn" class="primary-btn">重新開始</button>
        </div>
      </div>

      <div id="help-modal" class="modal">
        <div class="modal-content">
          <h2>如何遊玩</h2>
          <div class="help-steps">
            <div class="help-step">
              <div class="step-number">1</div>
              <div class="step-text">
                點擊兩個或以上相連的相同顏色方塊進行消除
              </div>
            </div>
            <div class="help-step">
              <div class="step-number">2</div>
              <div class="step-text">消除後，上方方塊會自動掉落填補空格</div>
            </div>
            <div class="help-step">
              <div class="step-number">3</div>
              <div class="step-text">
                當垂直方向一整列被清空後，右側方塊會自動向左滑動
              </div>
            </div>
            <div class="help-step">
              <div class="step-number">4</div>
              <div class="step-text">目標是清空整個遊戲區域中的所有方塊</div>
            </div>
            <div class="help-step">
              <div class="step-number">5</div>
              <div class="step-text">消除的方塊越多，獲得的分數越高</div>
            </div>
          </div>
          <button id="close-help-btn" class="primary-btn">了解</button>
        </div>
      </div>
    </div>

    <script src="game.js"></script>
  </body>
</html>
