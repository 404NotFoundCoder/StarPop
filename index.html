<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>星星色塊消消樂</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="game-container">
      <div class="game-card">
        <div class="game-header">
          <h1>星星色塊消消樂</h1>
          <div class="level-indicator">第 <span id="level">1</span> 關</div>
        </div>

        <div class="stats-container">
          <div class="stat-card">
            <div class="stat-label">分數</div>
            <div id="score" class="stat-value">0</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">剩餘方塊</div>
            <div id="blocks-left" class="stat-value">36</div>
          </div>
        </div>

        <div class="game-board-container">
          <div id="game-board"></div>
        </div>

        <div class="buttons">
          <button id="restart-btn" class="primary-btn">重新開始</button>
          <button id="help-btn" class="secondary-btn">如何遊玩</button>
        </div>
      </div>

      <div id="level-complete" class="modal">
        <div class="modal-content">
          <h2>恭喜過關！</h2>
          <div class="celebration-icon">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 512 512"
              xml:space="preserve"
            >
              <path
                style="fill: #ffba00"
                d="M276.866,42.537v31.299h202.95c-5.809,50.957-39.538,90.176-80.148,90.176H276.866v31.299h122.802
	c30.691,0,59.318-14.732,80.61-41.484C500.734,128.126,512,94.16,512,58.187v-15.65C512,42.537,276.866,42.537,276.866,42.537z"
              />
              <path
                style="fill: #fde09c"
                d="M112.331,164.012c-40.609,0-74.338-39.219-80.148-90.176h202.951V42.537H0v15.65
	c0,35.972,11.266,69.939,31.723,95.64c21.292,26.751,49.919,41.484,80.61,41.484h122.803v-31.299L112.331,164.012L112.331,164.012z"
              />
              <polygon
                style="fill: #ffba00"
                points="280.071,434.405 280.071,294.602 245.567,294.602 256,434.405 "
              />
              <rect
                x="231.926"
                y="294.597"
                style="fill: #fde09c"
                width="24.069"
                height="139.802"
              />
              <polygon
                style="fill: #ff8e00"
                points="358.341,455.293 358.341,414.235 256,414.235 235.134,476.159 "
              />
              <polygon
                style="fill: #ffba00"
                points="256,414.235 153.659,414.235 153.659,455.293 256,476.159 "
              />
              <path
                style="fill: #983300"
                d="M413.626,483.215c0-15.421-12.501-27.922-27.922-27.922h-27.364H256v41.057h157.626V483.215z"
              />
              <path
                style="fill: #d5681e"
                d="M153.659,455.293h-27.364c-15.421,0-27.922,12.501-27.922,27.922v13.135H256v-41.057H153.659z"
              />
              <path
                style="fill: #ff8e00"
                d="M399.668,183.839V15.65H256l-20.866,144.019L256,326.961h0.546
	C335.59,326.961,399.668,262.884,399.668,183.839z"
              />
              <g>
                <path
                  style="fill: #ffba00"
                  d="M112.332,15.65v168.19c0,79.045,64.079,143.122,143.122,143.122H256V15.65H112.332z"
                />
                <polygon
                  style="fill: #ffba00"
                  points="316.638,142.901 274.738,136.812 256,98.845 235.134,153.579 256,194.483 293.476,214.184 
		286.318,172.455 	"
                />
              </g>
              <polygon
                style="fill: #fde09c"
                points="237.262,136.812 195.362,142.901 225.682,172.455 218.524,214.184 256,194.483 256,98.845 
	"
              />
            </svg>
          </div>
          <p>您的分數: <span id="level-score">0</span></p>
          <div class="level-badge">
            即將進入第 <span id="next-level-num">2</span> 關
          </div>
          <div id="auto-progress">
            <div class="progress-bar">
              <div class="progress-fill"></div>
            </div>
            <div class="progress-text">自動前往下一關...</div>
          </div>
        </div>
      </div>

      <div id="game-over" class="modal">
        <div class="modal-content">
          <h2>遊戲結束</h2>
          <div class="game-over-icon">
            <svg viewBox="0 0 2050 2050" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <style>
                  .cls-1 {
                    fill: #ffffff;
                  }
                  .cls-2 {
                    fill: #ffc500;
                  }
                  .cls-3 {
                    fill: #ff9f1e;
                  }
                  .cls-4 {
                    fill: #00305f;
                  }
                  .cls-5 {
                    fill: #ffe059;
                  }
                </style>
              </defs>

              <title />

              <g data-name="Layer 1" id="Layer_1">
                <rect class="cls-1" height="2040" width="2040" x="5" y="5" />
              </g>

              <g data-name="Layer 3" id="Layer_3">
                <circle class="cls-2" cx="1025" cy="1025" r="613.7" />

                <path
                  class="cls-3"
                  d="M1068.5,1551.8c-339,0-613.7-274.8-613.7-613.7a613.5,613.5,0,0,1,44.4-229.8A610.7,610.7,0,0,0,411.3,1025c0,338.9,274.8,613.7,613.7,613.7,257.7,0,478.3-158.8,569.2-383.9C1486.8,1432.8,1291.5,1551.8,1068.5,1551.8Z"
                />

                <ellipse
                  class="cls-4"
                  cx="773.9"
                  cy="896.3"
                  rx="94.9"
                  ry="60.2"
                  transform="translate(-155.1 1630.7) rotate(-87.5)"
                />

                <circle class="cls-1" cx="803.6" cy="857.7" r="16.6" />

                <ellipse
                  class="cls-4"
                  cx="1276.1"
                  cy="896.3"
                  rx="60.2"
                  ry="94.9"
                  transform="translate(-37.7 56.1) rotate(-2.5)"
                />

                <circle class="cls-1" cx="1296.4" cy="857.7" r="16.6" />

                <path
                  class="cls-5"
                  d="M1025,411.3A610.4,610.4,0,0,0,659.9,531.7a706.9,706.9,0,0,1,453.2-18.9,27.8,27.8,0,0,0-3.3,5.1c-18.2,33.9,18.9,89.1,82.7,123.3s130.4,34.6,148.6.8a38.6,38.6,0,0,0,3.7-10.5c165.2,128,271.9,328.1,272.9,553.1a613.3,613.3,0,0,0,21-159.6C1638.7,686.1,1363.9,411.3,1025,411.3Z"
                />

                <ellipse
                  class="cls-5"
                  cx="1339.4"
                  cy="698.8"
                  rx="30.8"
                  ry="52.8"
                  transform="translate(396.9 1879.5) rotate(-79)"
                />

                <ellipse
                  class="cls-5"
                  cx="1235.1"
                  cy="718.7"
                  rx="17.2"
                  ry="25"
                  transform="translate(-4.9 1429) rotate(-60)"
                />

                <path
                  class="cls-4"
                  d="M1296.4,1314.5a29.7,29.7,0,0,1-23-10.7c-32.3-38.4-70-68.5-112-89.5s-88.8-32.4-136-32.4c-91.6,0-178.2,41.6-243.9,117.1a30,30,0,0,1-45.3-39.4c37.5-43,81-76.8,129.5-100.5a361.4,361.4,0,0,1,322.6,1.6c49.3,24.7,93.4,59.8,131,104.5a29.9,29.9,0,0,1-22.9,49.3Z"
                />
              </g>
            </svg>
          </div>
          <p>沒有可消除的方塊了</p>
          <p>最終分數: <span id="final-score">0</span></p>
          <button id="retry-btn" class="primary-btn">重新開始</button>
        </div>
      </div>

      <div id="help-modal" class="modal">
        <div class="modal-content">
          <h2>如何遊玩</h2>
          <div class="help-steps">
            <div class="help-step">
              <div class="step-number">1</div>
              <div class="step-text">
                點擊兩個或以上相連的相同顏色方塊進行消除
              </div>
            </div>
            <div class="help-step">
              <div class="step-number">2</div>
              <div class="step-text">消除後，上方方塊會自動掉落填補空格</div>
            </div>
            <div class="help-step">
              <div class="step-number">3</div>
              <div class="step-text">
                當垂直方向一整列被清空後，右側方塊會自動向左滑動
              </div>
            </div>
            <div class="help-step">
              <div class="step-number">4</div>
              <div class="step-text">目標是清空整個遊戲區域中的所有方塊</div>
            </div>
            <div class="help-step">
              <div class="step-number">5</div>
              <div class="step-text">消除的方塊越多，獲得的分數越高</div>
            </div>
          </div>
          <button id="close-help-btn" class="primary-btn">了解</button>
        </div>
      </div>
    </div>

    <script src="game.js"></script>
  </body>
</html>
